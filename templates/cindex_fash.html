<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Caffe demos">
    <meta name="author" content="ADOBE">

    <title>Monitor</title>

    <link href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">

    <script type="text/javascript" src="//code.jquery.com/jquery-2.1.1.js"></script>
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>

    <!-- Script to instantly classify an image once it is uploaded. -->
    <script type="text/javascript">
      /*$(document).ready(*/
        /*function(){
          document.getElementById('threshold').value = '';
          // $('#searchfile').attr('disabled',true);
          // $('#imagefile').change(
          //   function(){
          //     if ($(this).val()){
          //       $('#formupload').submit();
          //     }
          //   }
          // );
        }
      );*/
      function validateForm(){
          /* Validations go here */
          /*var threshold = $("#threshold").val();*/
          /*if ((threshold && isNaN(threshold)) || ( threshold && !isNaN(threshold) && (threshold<0.0 || threshold>1.0))){
              alert('Enter a number between 0 to 1')
              return false
            }*/
          var imagefile1 = $("#personimage").val();
          var imagefile2 = $("#clothimage").val();
          if (!imagefile1){
            alert('Choose person image')
            return false
          }
          if(!imagefile2){
            alert("Choose cloth image")
            return false
          }
          /*if (!threshold){
              document.getElementById('threshold').value = 'auto';
          }*/
          return true
          //submit(); // If all the validations succeeded
      }
    </script>

    <style>
    body {
      font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
      line-height:1.5em;
      color: #232323;
      -webkit-font-smoothing: antialiased;
    }

    h1, h2, h3 {
      font-family: Times, serif;
      line-height:1.5em;
      border-bottom: 1px solid #ccc;
    }
    </style>
  </head>

  <body>
    <!-- Begin page content -->
    
    {% if has_result %}
    <div>
    <div>
    <a class="pull-left" href="#"><img class="media-object" width="515" height="515" src={{ imagesrc }}></a>
    </div>
    <div>
    <span class="badge">{{ result }}</span>
    </div>
    </div>
    {% endif %}
      
     <form id="formupload" class="form-inline" role="form" action="search" method="post" enctype="multipart/form-data" 
     onsubmit="return validateForm();">

        <div class="form-group">
          <label for="personimage">Upload query image:</label>
          <input type="file" name="personimage" id="personimage">
        </div>
        <div>
          <label for="clothimage">Upload target image:</label>
          <input type="file" name="clothimage" id="clothimage">
        </div>
        <input type="submit" class="btn btn-primary" value="Search File" id="searchfile"></input>
        <!--<input type="submit" class="btn btn-primary" value="Classify File" id="classifyfile"></input>-->
    </form>

    
    
 </body>
</html>
